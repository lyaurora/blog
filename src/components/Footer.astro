---

import { profileConfig } from "../config";
import { url } from "../utils/url-utils";

const currentYear = new Date().getFullYear();
---

<!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">-->
<div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div>
<!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">-->
<div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6">
    <div class="transition text-50 text-sm text-center">
        &copy; <span id="copyright-year">{currentYear}</span> {profileConfig.name}. All Rights Reserved./
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href={url('rss.xml')}>RSS</a><br>
        Powered by
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> &
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a>
<div class="text-xs text-50/80 text-center mt-0.5 flex items-center justify-center gap-1 opacity-80 hover:opacity-100 transition-opacity">
    <span class="scale-90">⏳</span>
    <span>本站已运行</span>
    <span id="uptime-display" class="font-mono font-bold text-[var(--primary)]">Loading...</span>
</div>

<script is:inline>
    function updateUptime() {
        // 你的建站时间
        const startDate = new Date("2025-12-14T00:00:00"); 
        
        const now = new Date();
        const diff = now - startDate;

        if (diff < 0) {
            document.getElementById("uptime-display").innerText = "即将诞生";
            return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        const h = hours < 10 ? "0" + hours : hours;
        const m = minutes < 10 ? "0" + minutes : minutes;
        const s = seconds < 10 ? "0" + seconds : seconds;

        // 保持简洁的格式：2天 05:12:30
        const text = `${days}天 ${h}:${m}:${s}`;
        document.getElementById("uptime-display").innerText = text;
    }

    setInterval(updateUptime, 1000);
    updateUptime();
</script>
    </div>
</div>